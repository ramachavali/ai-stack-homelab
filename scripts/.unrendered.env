# =================================================================
# AI Stack Environment Configuration
# =================================================================
# Copy this file to .env and configure with your values
# Generate secure keys using: openssl rand -base64 32

# =================================================================
# GENERAL CONFIGURATION
# =================================================================
TIMEZONE="America/Chicago"
USERNAME="$(whoami)"

# =================================================================
# POSTGRESQL DATABASE (with pgvector extension)
# =================================================================
POSTGRES_USER="aistack"
POSTGRES_PASSWORD="$(openssl rand -base64 16)"
POSTGRES_DB="aistack_db"

# Resource Limits
POSTGRES_MEMORY_LIMIT="2G"
POSTGRES_CPU_LIMIT="2.0"
POSTGRES_MEMORY_RESERVATION="512M"
POSTGRES_CPU_RESERVATION="0.5"

# =================================================================
# REDIS CACHE
# =================================================================
REDIS_PASSWORD="$(openssl rand -base64 16)"
REDIS_MAX_MEMORY="512mb"

# Resource Limits
REDIS_MEMORY_LIMIT="512M"
REDIS_CPU_LIMIT="0.5"

# =================================================================
# OLLAMA AI MODEL SERVER
# =================================================================
OLLAMA_VERSION="latest"
OLLAMA_KEEP_ALIVE="24h"
OLLAMA_MAX_MODELS="3"
OLLAMA_PARALLEL="2"
OLLAMA_FLASH_ATTENTION="true"

# Resource Limits - Adjust based on your system
OLLAMA_MEMORY_LIMIT="12G"
OLLAMA_CPU_LIMIT="6.0"
OLLAMA_MEMORY_RESERVATION="2G"
OLLAMA_CPU_RESERVATION="1.0"

# =================================================================
# N8N WORKFLOW AUTOMATION
# =================================================================
N8N_VERSION="latest"
N8N_HOST="0.0.0.0"
N8N_PROTOCOL="http"
N8N_WEBHOOK_URL="https://n8n.local"
N8N_DB_SCHEMA="public"

# Security - Generate with: openssl rand -hex 16
N8N_ENCRYPTION_KEY="$(openssl rand -hex 16)"
N8N_API_KEY="CHANGEME_N8N_API_KEY"

# Features
N8N_METRICS="true"
N8N_LOG_LEVEL="info"
N8N_AI_ENABLED="true"

# Resource Limits
N8N_MEMORY_LIMIT="3G"
N8N_CPU_LIMIT="2.0"
N8N_MEMORY_RESERVATION="1G"
N8N_CPU_RESERVATION="0.5"
N8N_MAX_MEMORY="2048"

# =================================================================
# OPEN WEBUI
# =================================================================
OPEN_WEBUI_VERSION="main"
OPEN_WEBUI_NAME="${USERNAME}-Network"

# Security - Generate with: openssl rand -hex 16
OPEN_WEBUI_SECRET_KEY="$(openssl rand -hex 16)"

# Authentication
ENABLE_SIGNUP="false"
DEFAULT_USER_ROLE="user"
DEFAULT_LOCALE="en-US"

# AI Model Configuration
DEFAULT_MODELS="llama3.2:3b,qwen2.5:7b-instruct"
RAG_EMBEDDING_MODEL="nomic-embed-text"
CHUNK_SIZE="1000"
CHUNK_OVERLAP="200"

# Features
ENABLE_IMAGE_GENERATION="true"
ENABLE_RAG_WEB_SEARCH="true"

# RAG Web Search (SearXNG Integration)
RAG_WEB_SEARCH_ENGINE="searxng"
RAG_WEB_SEARCH_RESULT_COUNT="5"
SEARXNG_QUERY_URL="http://searxng:8080/search?q=%{s}&format=json"

# Integration
LITELLM_BASE_URL="http://litellm:4000"
LITELLM_PORT="4000"

# Resource Limits
OPEN_WEBUI_MEMORY_LIMIT="1G"
OPEN_WEBUI_CPU_LIMIT="1.0"
OPEN_WEBUI_MEMORY_RESERVATION="256M"
OPEN_WEBUI_CPU_RESERVATION="0.25"

# =================================================================
# HOST FILESYSTEM MOUNTS - Open WebUI
# =================================================================
# Update these paths to match your system
HOST_DOWNLOADS_PATH="/Users/${USERNAME}/Downloads"
HOST_NETWORK_PATH="/Users/${USERNAME}/${USERNAME}Network"
HOST_DROPZONE_PATH="/Users/${USERNAME}/Library/MobileDropZone"
HOST_DOCSTORE_PATH="/Users/${USERNAME}/Library/MobileDocStore"

# =================================================================
# LITELLM PROXY
# =================================================================
LITELLM_VERSION="main-stable"
LITELLM_PORT="4000"

# Security
LITELLM_MASTER_KEY="CHANGEME_LITELLM_MASTER_KEY"
LITELLM_SALT_KEY="CHANGEME_LITELLM_SALT_KEY"
LITELLM_UI_USERNAME="admin"
LITELLM_UI_PASSWORD="CHANGEME_LITELLM_PASSWORD"

# Configuration
LITELLM_LOG_LEVEL="INFO"

# Resource Limits
LITELLM_MEMORY_LIMIT="1G"
LITELLM_CPU_LIMIT="1.0"

# =================================================================
# N8N MCP SERVER
# =================================================================
N8N_MCP_VERSION="latest"
N8N_MCP_AUTH_TOKEN="CHANGEME_N8N_MCP_TOKEN"
N8N_MCP_LOG_LEVEL="info"
N8N_MCP_MODE="http"

# Resource Limits
N8N_MCP_MEMORY_LIMIT="512M"
N8N_MCP_CPU_LIMIT="0.5"

# =================================================================
# MCPO (MCP ORCHESTRATOR)
# =================================================================
MCPO_VERSION="main"
MCPO_API_KEY="CHANGEME_MCPO_API_KEY"
MCPO_SERVER_TYPE="streamable_http"
MCPO_LOG_LEVEL="info"

# Resource Limits
MCPO_MEMORY_LIMIT="256M"
MCPO_CPU_LIMIT="0.25"

# =================================================================
# SEARXNG WEB SEARCH ENGINE
# =================================================================
SEARXNG_VERSION="latest"

# Security - Generate with: openssl rand -hex 16
SEARXNG_SECRET_KEY="$(openssl rand -hex 16)"

# Resource Limits
SEARXNG_MEMORY_LIMIT="512M"
SEARXNG_CPU_LIMIT="0.5"
SEARXNG_MEMORY_RESERVATION="128M"
SEARXNG_CPU_RESERVATION="0.1"

# =================================================================
# SECURITY KEY GENERATION COMMANDS
# =================================================================
# Run these commands to generate secure keys:
#
# 32-character hex key (for encryption keys):
#   openssl rand -hex 16
#
# Base64 password (for passwords):
#   openssl rand -base64 32
#
# API key (24 characters):
#   openssl rand -base64 24
# =================================================================
